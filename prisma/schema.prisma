generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model User {
  id     String  @id @default(uuid())
  email  String  @unique
  name   String?
  avatar String?

  profile Profile?
  words     Word[]

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Profile {
  id     String @id @default(uuid())
  userId String @unique
  user   User   @relation(fields: [userId], references: [id])

  volcanoAccessKeyId String?
  volcanoSecretKey   String?

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt
}

model Dictionary {
  id          String   @id @default(uuid())
  word        String   @unique
  sw          String
  phonetic    String?
  definition  String?
  translation String?
  pos         String?
  collins     Int      @default(0)
  oxford      Int      @default(0)
  tag         String?
  bnc         Int?
  frq         Int?
  exchange    String?
  detail      String?
  audio       String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Word {
  id   String @id @default(uuid())
  word String @unique

  userId String @unique
  user   User   @relation(fields: [userId], references: [id])

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
